<html>
  <head>
    <script type="text/javascript"
            src="/support/javascript/jquery.js"></script>
    <script type="text/javascript"
            src="/support/javascript/form.js"></script>
    <script type="text/javascript"
            src="/support/javascript/hsbook.js"></script>
    <link rel="stylesheet" type="text/css" href="/comments.css"/>
    <link rel="stylesheet" type="text/css" href="/default.css"/>
    <title>Sample page</title>
  </head>
  <body>
    <div class="chapter" id="sample">
      <h1>Doc Review Tool</h1>
      <p id="what-is-it">
        This is a tool for soliciting comments on documents. It has a
        very simple interface, and it is intended to work with minimal
        alteration to existing HTML files. You should be able to get
        up and running with it very quickly.
      </p>
      <p id="real-world-haskell">
        This tool is based on the model used by Real World Haskell for
        review. That tool was a really easy way for readers to
        precisely communicate with the authors. That tool was heavily
        bound to the development model for that book, so it was not
        trivial to reuse the server portion of the code.
      </p>
      <p id="this-tool">
        This tool is an implementation of the API used by the
        Javascript code that Real World Haskell used to enable the
        comments. I started by reverse-engineering the requirements
        for the server, and then I did an implementation that would
        work with unchanged Javascript.
      </p>
      <h2>How to use it</h2>
      <p id="usage-layout">
        To use it, put any HTML file in a directory called "content".
        You will need to run it in a directory with the static
        resources in a subdirectory called "static". The server will
        create log files in the current directory, as well as store
        its state in a directory called "state" under the current
        directory.
      </p>
      <p id="about-the-html">
        You can put any number of HTML files in the content directory.
        Comments will be enabled for these elements that are
        descendants of something with <code>class="chapter"</code> and
        have an <code>id</code> attribute set:
      </p>
      <ul>
        <li><code>&lt;p&gt;</code> tags</li>
        <li><code>&lt;pre&gt;</code> tags</li>
        <li>
          <code>&lt;table&gt;</code> rows whose class is set
          to <code>equation</code>
        </li>
      </ul>
      <p id="why-restrictions">
        Beware that the comments will be shared between any elements
        with the same <code>id</code>, <em>even between
        documents</em>. These restrictions stem from the way that the
        Javascript was written for Real World Haskell, and eventually
        should be lifted.
      </p>
      <p id="other-usage">
        You can also use this tool with documents generated in any
        other way. The only restrictions are those listed above about
        how elements that can be commented on are selected.
      </p>
    </div>
  </body>
</html>
